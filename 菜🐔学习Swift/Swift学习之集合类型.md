

[TOC]

# é›†åˆç±»å‹

Swift æä¾›äº†ä¸‰ç§ä¸»è¦çš„é›†åˆç±»å‹ç”¨äºå­˜å‚¨ä¸€ç³»åˆ—çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„æ•°ç»„ï¼Œé›†åˆå’Œå­—å…¸ã€‚æ•°ç»„æ˜¯å€¼çš„æœ‰åºé›†åˆã€‚é›†åˆæ˜¯å”¯ä¸€å€¼çš„æ— åºé›†åˆã€‚å­—å…¸æ˜¯é”®å€¼å¯¹çš„æ— åºé›†åˆã€‚

![](https://docs.swift.org/swift-book/_images/CollectionTypes_intro_2x.png)

åœ¨ Swift ä¸­ï¼Œæˆ‘ä»¬èƒ½å¾ˆæ˜ç¡®çš„çŸ¥é“é›†åˆä¸­èƒ½å­˜å‚¨å“ªç§ç±»å‹çš„å€¼å’Œå®ƒä»¬èƒ½å­˜å‚¨çš„é”®çš„ç±»å‹ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸å¯èƒ½å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼ã€‚å®ƒåŒæ ·æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä»é›†åˆä¸­å–å‡ºç¡®å®šç±»å‹çš„å€¼ã€‚

> Swift ä¸­çš„æ•°ç»„ï¼Œé›†åˆå’Œå­—å…¸éƒ½æ˜¯é€šè¿‡æ³›å‹é›†åˆå®ç°çš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŸ¥çœ‹æ›´è¯¦ç»†çš„æ³›å‹é›†åˆçš„ä¿¡æ¯ï¼Œå¯ä»¥è®¿é—®[Generics](https://docs.swift.org/swift-book/LanguageGuide/Generics.html)ã€‚



## é›†åˆçš„å¯å˜æ€§

å¦‚æœæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œé›†åˆæˆ–è€…å­—å…¸ï¼Œå¹¶æŠŠå®ƒèµ‹ç»™äº†ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆåˆ›å»ºçš„é›†åˆå°±æ˜¯å¯å˜çš„ã€‚è¿™æ„å‘³ç€é›†åˆè¢«åˆ›å»ºå®Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ã€ç§»é™¤æˆ–è€…æ”¹å˜é›†åˆä¸­çš„å…ƒç´ æ¥å˜æ›´è¿™ä¸ªé›†åˆã€‚å¦‚æœæˆ‘ä»¬å°†æ•°ç»„ã€é›†åˆæˆ–è€…å­—å…¸èµ‹å€¼ç»™ä¸€ä¸ªå¸¸é‡ï¼Œåˆ™é›†åˆå°±å˜æˆäº†ä¸å¯å˜çš„ï¼Œå®ƒçš„å¤§å°å’Œå†…å®¹éƒ½ä¸èƒ½è¢«æ”¹å˜ã€‚

> åœ¨é›†åˆä¸éœ€è¦å˜æ›´çš„æƒ…å†µä¸‹åˆ›å»ºä¸å¯å˜é›†åˆæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚è¿™æ ·å¯ä»¥ä½¿æˆ‘ä»¬æ›´å®¹æ˜“çš„ç®¡ç†ä»£ç ï¼Œå¹¶ä¸” Swift  ç¼–è¯‘å™¨ä¹Ÿä¼šå¸®åŠ©æˆ‘ä»¬ä¼˜åŒ–é›†åˆçš„æ€§èƒ½ã€‚

## æ•°ç»„

æ•°ç»„ä»¥æœ‰åºçš„æ–¹å¼æ¥å­˜å‚¨å…·æœ‰ç›¸åŒç±»å‹çš„å€¼ã€‚ç›¸åŒçš„å€¼å¯ä»¥åœ¨æ•°ç»„çš„ä¸åŒä½ç½®å¤šæ¬¡å‡ºç°ã€‚

> Swift ä¸­çš„ Array ç±»å‹æ¡¥æ¥åˆ°äº† Foundation æ¡†æ¶çš„ NSArray ä¸Šã€‚
>
> å¦‚æœæƒ³è¦äº†è§£æ›´å¤šå¦‚ä½•é€šè¿‡ Foundation å’Œ Cocoa æ¡†æ¶æ¡¥æ¥ Array çš„ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹ [Bridging Between Array and NSArray](https://developer.apple.com/documentation/swift/array#2846730)ã€‚

###æ•°ç»„çš„ç®€å†™è¯­æ³•

åœ¨ Swift ä¸­ï¼Œæ•°ç»„çš„å®Œæ•´å†™æ³•åº”è¯¥æ˜¯ `Array<Element>` ï¼Œå…¶ä¸­çš„ Element æ˜¯æ•°ç»„å…è®¸å­˜å…¥çš„å€¼çš„ç±»å‹ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å†™ `[Element]` æ¥æŒ‡å®šæ•°ç»„çš„ç±»å‹ã€‚å°½ç®¡ä¸¤ç§å†™æ³•åŠŸèƒ½ä¸Šæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä½†æ˜¯å®˜æ–¹æ›´æ¨èç®€å†™å½¢å¼ï¼Œè€Œä¸”æ–‡æ¡£ä¸Šæ¶‰åŠåˆ°æ•°ç»„çš„ä¹Ÿéƒ½æ˜¯ç®€å†™å½¢å¼ã€‚

### åˆ›å»ºä¸€ä¸ªç©ºçš„æ•°ç»„

æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆå§‹åŒ–å™¨ï¼ˆæ„é€ å™¨ï¼‰è¯­æ³•æ¥åˆ›å»ºå’Œä¸€ä¸ªæŒ‡å®šç±»å‹çš„æ•°ç»„:

```swift
var someInts = [Int]()
print("someInts is of type [Int] with \(someInts.count) items.")
// Prints "someInts is of type [Int] with 0 items."
```

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå› ä¸ºåˆå§‹åŒ–å™¨çš„ç±»å‹æ˜¯ [Int]ï¼Œæ‰€ä»¥å˜é‡ someInts ä¼šè¢«æ¨æ–­ä¸ºæ˜¯ [Int] ç±»å‹ã€‚

å¦‚æœä¸Šä¸‹æ–‡ä¸­å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°çš„å…¥åƒæˆ–è€…ä¸€ä¸ªå·²ç»ç¡®å®šäº†ç±»å‹çš„å¸¸é‡æˆ–è€…å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡  [] (ä¸€å¯¹æ–¹æ‹¬å·) æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„æ•°ç»„ã€‚

```swift
someInts.append(3)
// someInts now contains 1 value of type Int
someInts = []
// someInts is now an empty array, but is still of type [Int]
```

### åˆ›å»ºä¸€ä¸ªå¸¦é»˜è®¤å€¼çš„æ•°ç»„

Swift çš„ Array è¿˜æä¾›äº†ä¸€ä¸ªåˆå§‹åŒ–å™¨ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªç‰¹å®šå¤§å°çš„æ•°ç»„ï¼Œå¹¶å°†å…¶æ‰€æœ‰å€¼è®¾ç½®ä¸ºç›¸åŒçš„é»˜è®¤å€¼ã€‚æˆ‘ä»¬å¯ä»¥ä¼ ç»™åˆå§‹åŒ–å™¨ä¸€ä¸ªå¯¹åº”ç±»å‹çš„é»˜è®¤å€¼ï¼ˆå«åš repeating ï¼‰å’Œæ–°æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡ï¼ˆå«åš count ï¼‰:

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]
```

### é€šè¿‡è¿æ¥ä¸¤ä¸ªæ•°ç»„æ¥åˆ›å»ºæ•°ç»„

æˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªå·²ç»å­˜åœ¨çš„ç±»å‹å…¼å®¹çš„æ•°ç»„é€šè¿‡ + å·è¿æ¥èµ·æ¥æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚æ–°æ•°ç»„çš„ç±»å‹å°†ä»ç›¸åŠ çš„ä¸¤ä¸ªæ•°ç»„é‡Œæ¨æ–­å‡ºæ¥:

```swift
var anotherThreeDoubles = Array(repeating: 2.5, count: 3)
// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]

var sixDoubles = threeDoubles + anotherThreeDoubles
// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
```

### ä½¿ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºæ•°ç»„

æˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨æ•°ç»„å­—é¢é‡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å­—é¢é‡æ˜¯ä¸€ç§å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼ä½œä¸ºæ•°ç»„é›†åˆçš„ç®€å†™æ–¹å¼ã€‚ç”¨æ–¹æ‹¬å·å°†ä¸€ç³»åˆ—çš„å€¼æ‹¬èµ·æ¥ï¼Œå€¼ä¸å€¼ä¹‹é—´ç”¨é€—å·åˆ†å‰²ï¼Œå°±æ˜¯æ•°ç»„å­—é¢é‡çš„ä¹¦å†™æ–¹å¼äº†:

> [value 1, value 2, value 3]

ä¸‹é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªå«åš shoppingList çš„æ•°ç»„å¹¶ç”¨æ¥å­˜å‚¨ String ç±»å‹çš„å€¼:

```swift
var shoppingList: [String] = ["Eggs", "Milk"]
// shoppingList has been initialized with two initial items
```

shoppingList å˜é‡è¢«å£°æ˜ä¸º "ä¸€ä¸ªå­˜å‚¨å­—ç¬¦ä¸²çš„æ•°ç»„"ï¼Œå†™ä½œ [String]ã€‚ç”±äºè¿™ä¸ªæ•°ç»„æœ‰ç‰¹å®šçš„å€¼ç±»å‹ Stringï¼Œæ‰€ä»¥å®ƒåªèƒ½å­˜å‚¨ String ç±»å‹çš„å€¼ã€‚è¿™é‡Œï¼ŒshoppingList ä½¿ç”¨ä¸¤ä¸ª String å€¼ï¼ˆ "Eggs" å’Œ "Milk" ï¼‰è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²å€¼å†™åœ¨äº†å­—é¢å€¼é‡Œã€‚

> æ•°ç»„ shoppingList è¢«å£°æ˜æˆäº†ä¸€ä¸ªå˜é‡ï¼ˆç”¨ var ä¿®é¥°ï¼‰è€Œä¸æ˜¯å¸¸é‡ï¼ˆç”¨ let ä¿®é¥°ï¼‰ï¼Œå› ä¸ºåœ¨æ¥ä¸‹æ¥çš„ä¾‹å­é‡Œè¿˜ä¼šæœ‰å¾ˆå¤šä¸œè¥¿è¢«æ·»åŠ åˆ°è´­ç‰©æ¸…å•ä¸­ã€‚ 

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°ç»„å­—é¢å€¼é™¤äº†ä¸¤ä¸ª String å€¼ä¹‹å¤–æ²¡æœ‰åŒ…å«å…¶ä»–ç±»å‹çš„å€¼ã€‚è¿™ä¸ shoppingList å˜é‡å£°æ˜çš„ç±»å‹ä¸€è‡´ï¼ˆä¸€ä¸ªåªèƒ½åŒ…å« String å€¼çš„æ•°ç»„ï¼‰ï¼Œå› æ­¤åœ¨è¿™é‡Œä»¥åªåŒ…å«ä¸¤ä¸ª String å€¼çš„æ•°ç»„å­—é¢é‡æ¥åˆå§‹åŒ– shoppingList æ˜¯è¢«å…è®¸çš„ã€‚

ä¾æ‰˜äº Swift çš„ç±»å‹æ¨æ–­ï¼Œå¦‚æœæˆ‘ä»¬ç”¨åŒ…å«ç›¸åŒç±»å‹çš„å€¼çš„æ•°ç»„å­—é¢é‡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥æ‰æ•°ç»„çš„ç±»å‹ã€‚shoppingList çš„åˆå§‹åŒ–ä»£ç å¯ä»¥å†™çš„æ›´çŸ­:

```swift
var shoppingList = ["Eggs", "Milk"]
```

å› ä¸ºæ•°ç»„å­—é¢é‡ä¸­æ‰€æœ‰çš„å€¼éƒ½æ˜¯ç›¸åŒçš„ç±»å‹ï¼ŒSwift å¯ä»¥æ¨æ–­å‡º [String] æ˜¯ shopplingList æœ€é€‚åˆçš„ç±»å‹ã€‚

### è®¿é—®å’Œä¿®æ”¹æ•°ç»„

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€å±æ€§æˆ–è€…ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥è®¿é—®æˆ–è€…ä¿®æ”¹æ•°ç»„ã€‚

è¦å¾—å‡ºæ•°ç»„æ‹¥æœ‰çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶åªè¯»çš„å±æ€§ countã€‚

```sw
print("The shopping list contains \(shoppingList.count) items.")
// Prints "The shopping list contains 2 items."
```

ä½¿ç”¨å¸ƒå°”å€¼å±æ€§ isEmpty æ¥ä½œä¸ºæ£€æŸ¥æ•°ç»„é‡Œçš„å…ƒç´ ä¸ªæ•°æ˜¯å¦ä¸º 0 çš„å¿«æ·æ–¹å¼ã€‚

```sw
if shoppingList.isEmpty {
    print("The shopping list is empty.")
} else {
    print("The shopping list is not empty.")
}
// Prints "The shopping list is not empty."
```

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„çš„ append(_:) æ–¹æ³•åœ¨æ•°ç»„æœ«å°¾è¿½åŠ æ–°çš„å…ƒç´ :

```swift
shoppingList.append("Flour")
// shoppingList now contains 3 items, and someone is making pancakes
```

å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ+=ï¼‰æ¥åœ¨æ•°ç»„æœ«å°¾è¿½åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ :

```swift
shoppingList += ["Baking Powder"]
// shoppingList now contains 4 items
shoppingList += ["Chocolate Spread", "Cheese", "Butter"]
// shoppingList now contains 7 items
```

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥ä»æ•°ç»„ä¸­å–å›ä¸€ä¸ªå€¼ï¼Œç´§è·Ÿç€æ•°ç»„åå†™ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œç„¶ååœ¨æ–¹æ‹¬å·ä¸­ä¼ å…¥æˆ‘ä»¬æƒ³å–å›çš„å€¼çš„ç´¢å¼•å°±å¯ä»¥äº†:

```swift
var firstItem = shoppingList[0]
// firstItem is equal to "Eggs"
```

> æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯ 0 è€Œä¸æ˜¯ 1ï¼ŒSwift ä¸­çš„æ•°ç»„éƒ½æ˜¯ä»¥ä¸‹æ ‡ 0 ä½œä¸ºå¼€å¤´ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥æ”¹å˜æ•°ç»„ä¸­ç»™å®šç´¢å¼•å‡ºå·²ç»å­˜åœ¨çš„å€¼:

```swift
shoppingList[0] = "Six eggs"
// the first item in the list is now equal to "Six eggs" rather than "Eggs"
```

å½“æˆ‘ä»¬ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯æˆ‘ä»¬æŒ‡å®šçš„ç´¢å¼•æ˜¯æœ‰æ•ˆçš„ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº† shoppingList[shoppingList.count]Â =Â "Salt" æ¥åœ¨æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåœ¨è¿è¡Œçš„æ—¶å€™å°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥ä¸€æ¬¡æ€§æ”¹å˜æ•°ç»„ä¸­ä¸€ä¸ªèŒƒå›´å†…çš„å€¼ï¼Œå°±ç®—æ›¿æ¢çš„èŒƒå›´å’Œè¦æ›¿æ¢çš„èŒƒå›´çš„é•¿åº¦ä¸ä¸€æ ·ä¹Ÿå¯ä»¥ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œç”¨ â€œBananasâ€ å’Œ â€œApplesâ€ æ›¿æ¢æ‰äº† â€œChocolate Spreadâ€ï¼Œâ€œCheeseâ€ å’Œ â€œButterâ€:

```swift
shoppingList[4...6] = ["Bananas", "Apples"]
// shoppingList now contains 6 items
```

å¦‚æœæƒ³åœ¨æŒ‡å®šç´¢å¼•ä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ insert(_:at:) æ–¹æ³•:

```swift
shoppingList.insert("Maple Syrup", at: 0)
// shoppingList now contains 7 items
// "Maple Syrup" is now the first item in the list
```

é€šè¿‡æŒ‡å®šç´¢å¼• 0 ï¼Œä¸Šé¢çš„ä»£ç é€šè¿‡è°ƒç”¨ `insert(_:at:)` æ–¹æ³•å°†ä¸€ä¸ªå€¼ â€œMaple Syrupâ€ æ’å…¥åˆ°äº† shoppingList çš„æœ€å‰é¢ã€‚

ä¸ä¹‹ç±»ä¼¼ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç§»é™¤æ•°ç»„ä¸­æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ `remove(at:)` æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå°†æŒ‡å®šç´¢å¼•çš„å…ƒç´ ç§»é™¤ï¼Œå¹¶å°†è¿™ä¸ªç§»é™¤çš„å…ƒç´ ä½œä¸ºè¿”å›å€¼è¿”å›ï¼ˆå¦‚æœæˆ‘ä»¬ä¸éœ€è¦çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥æ‰è¿™ä¸ªè¿”å›å€¼ï¼‰ã€‚

```swift
let mapleSyrup = shoppingList.remove(at: 0)
// the item that was at index 0 has just been removed
// shoppingList now contains 6 items, and no Maple Syrup
// the mapleSyrup constant is now equal to the removed "Maple Syrup" string
```

> å¦‚æœæˆ‘ä»¬éœ€è¦è®¿é—®ä¸€ä¸ªè¶…å‡ºæ•°ç»„è¾¹ç•Œçš„ç´¢å¼•å¯¹åº”çš„å€¼ï¼Œæˆ‘ä»¬å°†è§¦å‘ä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ã€‚æˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œé€šè¿‡å¯¹æ¯”æ•°ç»„çš„ count å±æ€§æ¥æ£€æŸ¥è¿™ä¸ªç´¢å¼•æ˜¯å¦åœ¨æ•°ç»„çš„èŒƒå›´ä¹‹å†…ã€‚æ•°ç»„ä¸­æœ‰æ•ˆç´¢å¼•çš„æœ€å¤§å€¼æ˜¯ count-1ï¼Œå› ä¸ºæ•°ç»„çš„ç´¢å¼•æ€»æ˜¯ä» 0 å¼€å§‹â€”â€”ç„¶è€Œï¼Œå½“ count æ˜¯ 0 çš„æ—¶å€™ï¼ˆæ„å‘³ç€æ•°ç»„æ˜¯ç©ºçš„ï¼Œæ²¡æœ‰ä»»ä½•å…ƒç´ ï¼‰ï¼Œä»»ä½•ç´¢å¼•éƒ½æ˜¯æ— æ•ˆçš„ã€‚

å½“å…ƒç´ è¢«åˆ é™¤åï¼Œæ•°ç»„ä¸­çš„ä»»ä½•ç©ºç™½éƒ½ä¼šè¢«å…³é—­ï¼Œæ‰€ä»¥ç´¢å¼• 0 å¯¹åº”çš„å€¼å†ä¸€æ¬¡æˆä¸ºäº† â€œsix eggsâ€:

```swift
firstItem = shoppingList[0]
// firstItem is now equal to "Six eggs"
```

å¦‚æœæˆ‘ä»¬æƒ³ä½™å¤„æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬æœ€å¥½æ˜¯ä½¿ç”¨ removeLast() æ–¹æ³•è€Œä¸æ˜¯ remove(at:) æ–¹æ³•ï¼Œå› ä¸ºè¿™æ ·å­å¯ä»¥é¿å…æˆ‘ä»¬æŸ¥è¯¢ä¸€æ¬¡æ•°ç»„çš„ count å±æ€§:

```swift
let apples = shoppingList.removeLast()
// the last item in the array has just been removed
// shoppingList now contains 5 items, and no apples
// the apples constant is now equal to the removed "Apples" string
```



### éå†æ•°ç»„

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ for-in å¾ªç¯å»éå†æ•´ä¸ªæ•°ç»„ä¸­å…ƒç´ çš„é›†åˆ:

```swift
for item in shoppingList {
    print(item)
}
// Six eggs
// Milk
// Flour
// Baking Powder
// Bananas
```

å¦‚æœæˆ‘ä»¬åŒæ—¶éœ€è¦æ¯ä¸ªå…ƒç´ çš„å€¼å’Œè¿™ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æ•°ç»„çš„æšä¸¾åºåˆ—ï¼ˆä¹Ÿå°±æ˜¯æ•°ç»„ enumerated() æ–¹æ³•æ‰§è¡Œä¹‹åçš„è¿”å›å€¼ï¼‰ä»£æ›¿æ•°ç»„è¿›è¡Œéå†ã€‚enumerated() æ–¹æ³•ä¼šä¸ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ç”Ÿæˆä¸€ä¸ªå…ƒç»„ï¼Œè¿™ä¸ªå…ƒç»„ç”±ä¸€ä¸ªæ•´æ•°å’Œè¯¥å…ƒç´ ç»„æˆã€‚æ•´æ•°ä» 0 å¼€å§‹ï¼Œæ¯å¾ªç¯ä¸€æ¬¡å°±åŠ ä¸€ã€‚å¦‚æœæšä¸¾çš„æ˜¯æ•´ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆè¿™äº›æ•´æ•°å°†å®Œå…¨ä¸æ•°ç»„ä¸­å…ƒç´ çš„ç´¢å¼•ç›¸åŒ¹é…ã€‚ä½œä¸ºè¿­ä»£çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å°†å½¦ç¥–åˆ†è§£æˆä¸´æ—¶çš„å¸¸é‡æˆ–è€…å˜é‡:

```swift
for (index, value) in shoppingList.enumerated() {
    print("Item \(index + 1): \(value)")
}
// Item 1: Six eggs
// Item 2: Milk
// Item 3: Flour
// Item 4: Baking Powder
// Item 5: Bananas
```



## é›†åˆ

é›†åˆæ˜¯ä¸€ä¸ªå­˜å‚¨åŒä¸€ç±»å‹ä¸”ä¸é‡å¤çš„å€¼çš„æ— åºé›†åˆã€‚å½“å…ƒç´ çš„é¡ºåºä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œæˆ–è€…æˆ‘ä»¬ç¡®ä¿å…ƒç´ ä¸èƒ½é‡å¤çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é›†åˆæ¥ä»£æ›¿æ•°ç»„ã€‚

> Swift ä¸­çš„ Set ç±»å‹æ¡¥æ¥åˆ°äº† Foundation æ¡†æ¶ä¸­çš„ NSSet ç±»ã€‚
>
> å¦‚æœæƒ³äº†è§£ Set ç±»å‹æ˜¯å¦‚ä½•é€šè¿‡ Foundation å’Œ Cocoa æ¡†æ¶å·¥ä½œçš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ [Bridging Between Set and NSSet](https://developer.apple.com/documentation/swift/set#2845530) ã€‚

### Set ç±»å‹çš„å“ˆå¸Œå€¼

å¦‚æœæƒ³è®©ä¸€ä¸ªç±»å‹å­˜å‚¨åˆ°é›†åˆä¸­ï¼Œè¿™ä¸ªç±»å‹å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥ç±»å¿…é¡»æä¾›ä¸€ä¸ªè®¡ç®—å®ƒæœ¬èº«çš„å“ˆå¸Œå€¼çš„æ–¹æ³•ã€‚å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ª Int ç±»å‹çš„å€¼ï¼Œæ‰€æœ‰ç›¸ç­‰çš„å¯¹è±¡ä»–ä»¬çš„å“ˆå¸Œå€¼è‚¯å®šæ˜¯ç›¸åŒçš„ï¼Œæ¯”å¦‚ï¼Œå¦‚æœ a == bï¼Œé‚£ä¹ˆï¼Œa.hashValue == b.hashValue ã€‚

Swift ä¸­çš„åŸºç¡€ç±»å‹ï¼ˆæ¯”å¦‚ Stringï¼ŒIntï¼ŒDouble å’Œ Boolï¼‰ï¼Œé»˜è®¤éƒ½æ˜¯å¯å“ˆå¸Œçš„ï¼Œä»–ä»¬éƒ½å¯ä»¥ç”¨æ¥åšé›†åˆçš„å€¼æˆ–å­—å…¸çš„é”®å€¼ã€‚æ²¡æœ‰å…³è”å€¼çš„æšä¸¾æˆå‘˜å€¼ï¼ˆ[Enumerations](https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html) æœ‰è¯¦ç»†æè¿°ï¼‰ï¼Œä¹Ÿæ˜¯é»˜è®¤å¯å“ˆå¸Œçš„ã€‚

> æˆ‘ä»¬åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»å‹ä½œä¸ºé›†åˆçš„å€¼æˆ–è€…å­—å…¸çš„é”®å€¼ï¼Œåªè¦è®©ä»–ä»¬éµå¾ª Swift æ ‡å‡†åº“ä¸­çš„ Hashable åè®®å³å¯ã€‚éµå¾ª Hashable åè®®çš„ç±»å¿…é¡»æä¾›ä¸€ä¸ªå¯ä¾›è®¿é—®çš„åä¸º hashValue çš„ Int å±æ€§ã€‚ç±»å‹çš„ hashValue å±æ€§çš„è¿”å›å€¼åœ¨åŒä¸€ç¨‹åºæˆ–ä¸åŒç¨‹åºçš„ä¸åŒæ‰§è¡Œä¸­ä¸éœ€è¦ç›¸åŒã€‚
>
> å› ä¸º Hashable åè®®éµå¾ªäº† Equatable åè®®ï¼Œéµå¾ª Hashable åè®®çš„ç±»å‹åŒæ—¶å¿…é¡»æä¾›ä¸€ä¸ª â€œç›¸ç­‰â€ è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰çš„å®ç°ã€‚Equatable åè®®è¦æ±‚ä»»ä½•éµå¾ªäº†åè®®çš„ == çš„å®ç°éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹ç­‰å…³ç³»ã€‚`==` çš„å®ç°å¿…é¡»æ»¡è¶³ä¸‹é¢ä¸‰ä¸ªæ¡ä»¶ï¼Œå…¶ä¸­çš„ aï¼Œb å’Œ c æ˜¯ä»»æ„å€¼:
>
> * a == a ï¼ˆè‡ªåæ€§ï¼‰
> * a == b æ„å‘³ç€ b == a ï¼ˆå¯¹ç§°æ€§ï¼‰
> * a == b && b == c æ„å‘³ç€ a == c ï¼ˆä¼ é€’æ€§ï¼‰
>
> æ›´å¤šå…³äºåè®®çš„ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹ [Protocols](https://docs.swift.org/swift-book/LanguageGuide/Protocols.html) ã€‚

### é›†åˆç±»å‹è¯­æ³•

Swift ä¸­çš„é›†åˆå†™ä½œ `Set<Element>`ï¼Œè¿™é‡Œçš„ Element æ˜¯é›†åˆè¦å­˜å‚¨çš„ç±»å‹ã€‚ä¸åŒäºæ•°ç»„ï¼Œé›†åˆå¹¶æ²¡æœ‰ç­‰ä»·çš„ç®€å†™å½¢å¼ã€‚

### åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„é›†åˆ

æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆå§‹åŒ–è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªç¡®å®šç±»å‹çš„é›†åˆ:

```swift
var letters = Set<Character>()
print("letters is of type Set<Character> with \(letters.count) items.")
// Prints "letters is of type Set<Character> with 0 items."
```

> ç”±äºåˆå§‹åŒ–å™¨çš„ç±»å‹æ˜¯ `Set<Character>` æ‰€ä»¥ letters çš„ç±»å‹ä¹Ÿä¼šè¢«æ¨æ–­ä¸º  `Set<Character>` ã€‚

å¦‚æœä¸Šä¸‹æ–‡ä¸­å·²ç»ç¡®è®¤äº†ç±»å‹ä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°çš„å…¥åƒæˆ–è€…æ˜¯å·²ç»ç¡®å®šäº†ç±»å‹çš„å˜é‡æˆ–è€…å¸¸é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç©ºçš„æ•°ç»„å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„é›†åˆ:

```swift
letters.insert("a")
// letters now contains 1 value of type Character
letters = []
// letters is now an empty set, but is still of type Set<Character>
```

### ä½¿ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºé›†åˆ

æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ•°ç»„å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œç®—æ˜¯ä¸€ç§åˆå§‹å¸¦ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼çš„é›†åˆçš„å¿«æ·æ–¹å¼ã€‚

ä¸‹é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªå« favoriteGenres çš„é›†åˆæ¥å­˜å‚¨ String å€¼:

```swift
var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// favoriteGenres has been initialized with three initial items
```

å˜é‡ favoriteGenres è¢«å£°æ˜ä¸º â€œä¸€ä¸ª String å€¼çš„é›†åˆâ€ï¼Œå†™ä½œ `Set<String>` ã€‚å› ä¸ºè¿™ä¸ªé›†åˆå·²ç»è¢«æ˜ç¡®æŒ‡å®šä¸º String ç±»å‹ï¼Œæ‰€ä»¥å®ƒåªèƒ½å­˜å‚¨ String å€¼ã€‚åœ¨è¿™é‡Œï¼Œé›†åˆ favoriteGenres åˆå§‹åŒ–åæœ‰ä¸‰ä¸ªé»˜è®¤å€¼ï¼ˆ"Rock", "Classical" å’Œ "Hip hop"ï¼‰ï¼Œå› ä¸ºå®ƒæ˜¯æ ¹æ®ä¸€ä¸ªå¸¦é»˜è®¤å€¼çš„æ•°ç»„å­—é¢é‡å»åˆå§‹åŒ–çš„ã€‚

> é›†åˆ favoriteGentes å£°æ˜ä¸ºå˜é‡ï¼ˆç”¨ var ä¿®é¥°ï¼‰è€Œä¸æ˜¯å¸¸é‡ï¼ˆç”¨ let ä¿®é¥°ï¼‰æ˜¯å› ä¸ºåœ¨æ¥ä¸‹æ¥çš„ä¾‹å­ä¸­ï¼Œä¼šå¾€é›†åˆä¸­åŠ å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚

ä¸€ä¸ªé›†åˆçš„ç±»å‹ä¸èƒ½ç”±æ•°ç»„å­—é¢é‡æ¨æ–­å‡ºæ¥ï¼Œæ‰€ä»¥ Set çš„ç±»å‹å¿…é¡»æ˜¾å¼åœ°å£°æ˜å‡ºæ¥ã€‚ç„¶è€Œï¼Œå› ä¸º Swift ç”±æ¨æ–­æœºåˆ¶ï¼Œå¦‚æœæˆ‘ä»¬ç”¨æ¥åˆå§‹åŒ–çš„æ•°ç»„å­—é¢é‡ä¸­çš„å…ƒç´ éƒ½æ˜¯ç›¸åŒç±»å‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨å»æŒ‡æ˜é›†åˆçš„ç±»å‹ã€‚favoriteGenres çš„åˆå§‹åŒ–å¯ä»¥ç”±ç®€å†™ä»£æ›¿:

```swift
var favoriteGenres: Set = ["Rock", "Classical", "Hip hop"]
```

å› ä¸ºæ•°ç»„å­—é¢é‡ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½æ˜¯ç›¸åŒçš„ç±»å‹ï¼ŒSwift ä¼šè®¤ä¸º å˜é‡ favoriteGenres æ›´é€‚åˆä½¿ç”¨ `Set<String>` ç±»å‹ã€‚

### è®¿é—®å’Œä¿®æ”¹é›†åˆ

æˆ‘ä»¬å¯ä»¥é€šè¿‡é›†åˆçš„æ–¹æ³•å’Œå±æ€§æ¥è®¿é—®å’Œä¿®æ”¹é›†åˆã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é›†åˆçš„ count å±æ€§æ¥å¾—å‡ºé›†åˆä¸­å…ƒç´ çš„æ•°é‡:

```swift
print("I have \(favoriteGenres.count) favorite music genres.")
// Prints "I have 3 favorite music genres."
```

ä½¿ç”¨å¸ƒå°”å€¼ isEmpty æ¥ä½œä¸ºæ£€æŸ¥ count æ˜¯å¦ä¸º 0 çš„å¿«æ·æ–¹å¼:

```swift
if favoriteGenres.isEmpty {
    print("As far as music goes, I'm not picky.")
} else {
    print("I have particular music preferences.")
}
// Prints "I have particular music preferences."
```

å¯ä»¥è°ƒç”¨ `insert(_:)` æ–¹æ³•æ¥ä¸ºé›†åˆæ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ :

```swift
favoriteGenres.insert("Jazz")
// favoriteGenres now contains 4 items
```

æˆ‘ä»¬å¯ä»¥è°ƒç”¨ `remove(_:)` æ–¹æ³•æ¥ä»é›†åˆä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœè¦ç§»é™¤çš„å…ƒç´ å­˜åœ¨äºé›†åˆä¸­ï¼Œå°±ä¼šä»é›†åˆä¸­ç§»é™¤å®ƒï¼Œå¹¶å°†å®ƒä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œå¦‚æœè¦ç§»é™¤çš„å…ƒç´ ä¸å­˜åœ¨äºé›†åˆä¸­ï¼Œé‚£ä¹ˆä¼šè¿”å› nilã€‚å¦‚æœè¦ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ `removeAll()`ã€‚

```swift
if let removedGenre = favoriteGenres.remove("Rock") {
    print("\(removedGenre)? I'm over it.")
} else {
    print("I never much cared for that.")
}
// Prints "Rock? I'm over it."
```

è¦æ£€æŸ¥ä¸€ä¸ªé›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `contains(_:)` æ–¹æ³•ã€‚

```swift
if favoriteGenres.contains("Funk") {
    print("I get up on the good foot.")
} else {
    print("It's too funky in here.")
}
// Prints "It's too funky in here."
```

### éå†é›†åˆ

æˆ‘ä»¬å¯ä»¥åœ¨ for-in å¾ªç¯ä¸­éå†é›†åˆä¸­çš„å…ƒç´ ã€‚

```swift
for genre in favoriteGenres {
    print("\(genre)")
}
// Classical
// Jazz
// Hip hop
```

å¯ä»¥åœ¨ Â [For-In Loops](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID121) æŸ¥çœ‹æ›´å¤šå…³äº for-in å¾ªç¯çš„ä¿¡æ¯ã€‚

Swift çš„ Set ç±»å‹æ˜¯æ— åºçš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³ä»¥ç‰¹å®šçš„é¡ºåºéå†é›†åˆçš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ `sorted()` æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªç»è¿‡ < å…³ç³»æ’åºçš„æ•°ç»„ã€‚

```swift

2
3
4
5
6
for genre in favoriteGenres.sorted() {
    print("\(genre)")
}
// Classical
// Hip hop
// Jazz
```

## æ‰§è¡Œé›†åˆæ“ä½œ

æˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°æ‰§è¡Œä¸€äº›é›†åˆæ“ä½œï¼Œæ¯”å¦‚åˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œç¡®å®šä¸¤ä¸ªé›†åˆå…±åŒæ‹¥æœ‰å“ªäº›å€¼æˆ–è€…ç¡®å®šä¸¤ä¸ªé›†åˆæ˜¯å¦æœ‰åŒ…å«å…³ç³»ï¼ˆä¸€ä¸ªåŒ…å«å¦ä¸€ä¸ªï¼‰ï¼Œæ˜¯å¦éƒ½åŒ…å«äº†æŸäº›å€¼æˆ–è€…æ²¡æœ‰åŒ…å«ç›¸åŒçš„å…ƒç´ ã€‚

### åŸºæœ¬é›†åˆæ“ä½œ

ä¸‹é¢çš„æ’å›¾æè¿°äº†ä¸¤ä¸ªé›†åˆ â€”a å’Œ b-- åœ¨å„ç§é›†åˆæ“ä½œä¸‹çš„ç»“æœï¼Œæ’å›¾ä¸­çš„é˜´å½±éƒ¨åˆ†å°±æ˜¯é›†åˆæ“ä½œçš„ç»“æœã€‚

![](https://docs.swift.org/swift-book/_images/setVennDiagram_2x.png)

* ä½¿ç”¨ `intersection(_:)` æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªåªåŒ…å«ä¸¤ä¸ªé›†åˆå…±æœ‰å€¼çš„æ–°é›†åˆï¼ˆa å’Œ b çš„äº¤é›†ï¼‰ï¼›
* ä½¿ç”¨ `symmetricDifference(_:)` æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªåªåŒ…å«ä¸¤ä¸ªé›†åˆéå…±æœ‰å€¼çš„æ–°é›†åˆï¼ˆa å’Œ b çš„å¯¹ç§°å·®é›†ï¼‰ï¼›
* ä½¿ç”¨ `union(_:)` æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé›†åˆæ‰€æœ‰å€¼çš„æ–°é›†åˆï¼ˆa å’Œ b çš„å¹¶é›†ï¼‰ï¼›
* ä½¿ç”¨ `subtracting(_:)` æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªåªåŒ…å« a é›†åˆå…ƒç´ ï¼Œä¸åŒ…å« b é›†åˆå…ƒç´ çš„æ–°é›†åˆï¼ˆa ä¸­ b çš„ç›¸å¯¹è¡¥é›†ï¼Œb å¯¹ a çš„ç›¸å¯¹è¡¥é›†ï¼‰ã€‚

```swift
let oddDigits: Set = [1, 3, 5, 7, 9]
let evenDigits: Set = [0, 2, 4, 6, 8]
let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]

oddDigits.union(evenDigits).sorted()
// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
oddDigits.intersection(evenDigits).sorted()
// []
oddDigits.subtracting(singleDigitPrimeNumbers).sorted()
// [1, 9]
oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()
// [1, 2, 9]
```

### é›†åˆä¸­çš„æˆå‘˜å…³ç³»å’Œç›¸ç­‰æ€§

ä¸‹é¢çš„æ’å›¾æè¿°äº†ä¸‰ä¸ªé›†åˆâ€”â€”aï¼Œb å’Œ câ€”â€”ï¼Œå¹¶ä¸”ç”¨é‡å çš„åŒºåŸŸè¡¨ç¤ºäº†ä¸‰ä¸ªé›†åˆå…±äº«çš„å…ƒç´ ã€‚é›†åˆ a æ˜¯é›†åˆ b çš„è¶…é›†ï¼Œå› ä¸º a åŒ…å«äº† b ä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚ç›¸åçš„ï¼Œé›†åˆ b æ˜¯é›†åˆ a çš„å­é›†ï¼Œå› ä¸º b ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½è¢«åŒ…å«åœ¨äº† a ä¸­ã€‚é›†åˆ b å’Œ é›†åˆ c æ˜¯ä¸ç›¸äº¤çš„ï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰å…±åŒæ‹¥æœ‰çš„å…ƒç´ ã€‚

* ä½¿ç”¨ â€œç›¸ç­‰â€ è¿ç®—ç¬¦ï¼ˆ==ï¼‰æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«æœ‰ç›¸åŒçš„å€¼ï¼›
* ä½¿ç”¨ `isSubset(of:)` æ–¹æ³•æ¥åˆ¤æ–­é›†åˆä¸­çš„å€¼æ˜¯å¦è¢«å¦å¤–ä¸€ä¸ªé›†åˆæ‰€åŒ…å«ï¼›
* ä½¿ç”¨ `isSuperset(of:)` æ–¹æ³•æ¥åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«äº†å¦å¤–ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ ï¼›
* ä½¿ç”¨ `isStrictSubset(of:)` æˆ– `isStrictSuperset(of:)` æ–¹æ³•æ¥åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºå¦ä¸€ä¸ªé›†åˆçš„å­é›†æˆ–è€…è¶…é›†ï¼Œä½†ä¸å…¶ä¸ç›¸ç­‰ã€‚
* ä½¿ç”¨ `isDisjoint(with:)` æ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦æ‹¥æœ‰å®Œå…¨ä¸åŒçš„å€¼ï¼Œå³æ˜¯å¦æ˜¯ä¸ç›¸äº¤çš„ã€‚

```swift
let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true
```



##å­—å…¸

å­—å…¸æ˜¯ç”¨æ¥å­˜å‚¨äº’ç›¸å…³è”çš„é”®å’Œå€¼çš„æ— åºé›†åˆï¼Œå­—å…¸ä¸­çš„æ‰€æœ‰çš„é”®å¿…é¡»æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œæ‰€æœ‰çš„å€¼ä¹Ÿå¿…é¡»æ˜¯åŒä¸€ä¸ªç±»å‹ã€‚æ¯ä¸ªå€¼éƒ½ä¸å”¯ä¸€çš„é”®ç›¸å…³è”ï¼Œè¯¥é”®åœ¨å­—å…¸ä¸­å……å½“è¯¥å€¼çš„æ ‡è¯†ç¬¦ã€‚ä¸åŒä¸æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå­—å…¸ä¸­çš„å…ƒç´ æ²¡æœ‰ç‰¹å®šçš„é¡ºåºã€‚å½“æˆ‘ä»¬éœ€è¦æ ¹æ®ç‰¹å®šçš„æ ‡è¯†å»æŸ¥æ‰¾å…¶å¯¹åº”çš„å€¼çš„æ—¶å€™å¯ä»¥ä½¿ç”¨å­—å…¸ï¼Œè¿™ä¸ç°å®ç”Ÿæ´»ä¸­æˆ‘ä»¬ç”¨å­—å…¸æ¥æŸ¥æ‰¾ç‰¹å®šå­—çš„å®šä¹‰çš„è¡Œä¸ºéå¸¸ç›¸ä¼¼ã€‚

> Swift ä¸­çš„ Dictionary ç±»å‹æ¡¥æ¥åˆ°äº† Foundation æ¡†æ¶ä¸­çš„ NSDictionary ç±»å‹ã€‚
>
> å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“æœ‰å…³äº Dictionary æ˜¯å¦‚ä½•åˆ©ç”¨ Foundation å’Œ Cocoa è¿›è¡Œå·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ [Bridging Between Dictionary and NSDictionary](https://developer.apple.com/documentation/swift/dictionary#2846239) ã€‚

### å­—å…¸ç±»å‹çš„ç®€å†™è¯­æ³•

Swift ä¸­å­—å…¸ç±»å‹çš„å®Œæ•´å†™æ³•åº”è¯¥æ˜¯ `Dictionary<Key, Value>` ï¼Œå…¶ä¸­çš„ Key æ˜¯å­—å…¸ä¸­é”®çš„å€¼ç±»å‹ï¼ŒValue æ˜¯å­—å…¸ä¸ºè¿™äº›é”®å­˜å‚¨çš„å€¼çš„ç±»å‹ã€‚

> å­—å…¸ä¸­çš„ Key çš„ç±»å‹å¿…é¡»éµå®ˆ Hashable åè®®ï¼Œå°±å’Œé›†åˆä¸­çš„å€¼ç±»å‹ä¸€æ ·ã€‚

æˆ‘ä»¬åŒæ ·å¯ä»¥ç”¨ç®€å†™å½¢å¼ [Key: Value] æ¥å£°æ˜å­—å…¸ç±»å‹ã€‚å°½ç®¡ä¸¤ç§å†™æ³•çš„åŠŸèƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä½†æ˜¯æ›´æ¨èè¿™ç§ç®€å†™å½¢å¼ï¼Œæ–‡æ¡£ä¸Šæ¶‰åŠåˆ°çš„å­—å…¸ä¹Ÿå…¨éƒ¨éƒ½æ˜¯ç®€å†™å½¢å¼ã€‚



### åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸

å’Œæ•°ç»„ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆå§‹åŒ–è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„ Dictionary:

```swift
var namesOfIntegers = [Int: String]()
// namesOfIntegers is an empty [Int: String] dictionary
```

è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªç±»å‹ä¸º [Int: Stirng] çš„ç©ºå­—å…¸æ¥å­˜å‚¨æ•´æ•°çš„å¯è¯»åç§°ã€‚å®ƒçš„é”®æ˜¯ Int ç±»å‹ï¼Œå€¼æ˜¯ String ç±»å‹ã€‚

å¦‚æœä¸Šä¸‹æ–‡ä¸­å·²ç»æä¾›äº†å­—å…¸çš„ç±»å‹ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç©ºå­—å…¸å­—é¢å€¼æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼Œç©ºå­—å…¸å­—é¢å€¼å†™ä½œ `[:]`(åœ¨ä¸€å¯¹æ–¹æ‹¬å·ä¸­å†™ä¸€ä¸ªå†’å·):

```swift
namesOfIntegers[16] = "sixteen"
// namesOfIntegers now contains 1 key-value pair
namesOfIntegers = [:]
// namesOfIntegers is once again an empty dictionary of type [Int: String]
```

### ç”¨å­—å…¸å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªå­—å…¸

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å­—å…¸å­—é¢é‡æ¥åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸å­—é¢é‡ä¸æˆ‘ä»¬æ—©äº›çœ‹åˆ°çš„æ•°ç»„å­—é¢é‡çœ‹èµ·æ¥å·®ä¸å¤šã€‚å­—å…¸å­—é¢é‡æ˜¯ä¸€ç§å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼ç¼–å†™ä¸º Dictionary é›†åˆçš„ç¼©å†™å½¢å¼ã€‚

é”®å€¼å¯¹ç”±ä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼ç»„åˆè€Œæˆã€‚åœ¨å­—å…¸å­—é¢é‡ä¸­ï¼Œæ¯ä¸ªé”®å€¼å¯¹é‡Œçš„é”®å’Œå€¼ç”¨å†’å·è¿›è¡Œåˆ†å‰²ï¼Œé”®å€¼å¯¹å½¢æˆä¸€ä¸ªåˆ—è¡¨ï¼Œç”¨é€—å·åˆ†å‰²ï¼Œå†ç”¨æ–¹æ‹¬å·æŠŠå®ƒä»¬æ‹¬èµ·æ¥:

> [key 1: value 1, key 2: value 2, key 3: value 3]

ä¸‹é¢çš„ä¾‹å­ä¸­åˆ›å»ºäº†ä¸€ä¸ªç”¨æ¥å­˜å‚¨å›½é™…æœºåœºåç§°çš„å­—å…¸ã€‚åœ¨è¿™ä¸ªå­—å…¸ä¸­ï¼Œé”®æ˜¯ç”±ä¸‰ä¸ªå­—æ¯è¡¨ç¤ºçš„å›½é™…èˆªç©ºè¿è¾“åä¼šä»£ç ï¼Œå€¼æ˜¯æœºåœºçš„åå­—:

```swift
var airports: [String: String] = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

å­—å…¸ airports è¢«å£°æ˜æˆäº† [String: String] ç±»å‹ï¼Œè¿™æ„å‘³ç€ â€œå­—å…¸ä¸­ï¼Œæ‰€æœ‰çš„é”®çš„ç±»å‹éƒ½æ˜¯ Stringï¼Œå¹¶ä¸”æ‰€æœ‰çš„å€¼çš„ç±»å‹ä¹Ÿæ˜¯ String â€ã€‚

> å­—å…¸ airports è¢«å£°æ˜ä¸ºäº†ä¸€ä¸ªå˜é‡ï¼ˆç”¨ var ä¿®é¥°ï¼‰ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ˆç”¨ let ä¿®é¥°ï¼‰ï¼Œå› ä¸ºåœ¨æ¥ä¸‹æ¥çš„ä¾‹å­ä¸­æˆ‘ä»¬ä¼šå¾€å­—å…¸ airports ä¸­åŠ å¾ˆå¤šä¸œè¥¿ã€‚

å­—å…¸ airports ç”±ä¸€ä¸ªåŒ…å«liangä¸ªé”®å€¼å¯¹çš„å­—å…¸å­—é¢é‡åˆå§‹åŒ–è€Œæ¥ã€‚ç¬¬ä¸€ä¸ªé”®å€¼å¯¹çš„é”®æ˜¯ â€œYYZâ€ï¼Œå€¼æ˜¯ â€œTorontoâ€ã€‚ç¬¬äºŒä¸ªé”®å€¼å¯¹çš„é”®æ˜¯ â€œDUBâ€ï¼Œå€¼æ˜¯ â€œDublinâ€ã€‚

è¿™ä¸ªå­—å…¸å­—é¢é‡åŒ…å«ä¸¤ä¸ª String: String å¯¹ã€‚è¿™ä¸ªé”®å€¼ç±»å‹ç¬¦åˆå˜é‡ airports å£°æ˜æ—¶è¦æ±‚çš„ç±»å‹ï¼ˆå­—å…¸ä¸­é”®åªèƒ½æ˜¯ String ç±»å‹ï¼Œå€¼åªèƒ½æ˜¯ String ç±»å‹ï¼‰ ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼Œé€šè¿‡å°†å­—å…¸å­—é¢é‡èµ‹å€¼ç»™å˜é‡ airportsï¼Œæ¥åˆå§‹åŒ–ä¸€ä¸ªå¸¦ä¸¤ä¸ªåˆå§‹åŒ–é¡¹çš„å­—å…¸æ˜¯å¯è¡Œçš„ã€‚

å’Œæ•°ç»„ä¸€æ ·ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ä¸€ä¸ªé”®ç±»å‹ç»Ÿä¸€ï¼Œå€¼ç±»å‹ç»Ÿä¸€çš„å­—å…¸å­—é¢é‡æ¥åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥æ‰å­—å…¸çš„ç±»å‹æŒ‡æ˜æ“ä½œã€‚è¿™æ ·ï¼Œairports çš„åˆå§‹åŒ–ä»£ç å°±èƒ½å†™çš„æ›´çŸ­:

```swift
var airports = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

å› ä¸ºä¸Šé¢ä¾‹å­ä¸­çš„å­—é¢é‡ä¸­ï¼Œæ‰€æœ‰çš„é”®éƒ½å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œè€Œä¸”æ‰€æœ‰çš„å€¼ä¹Ÿå…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œæ‰€ä»¥ Swift å¯ä»¥æ¨æ–­å‡º airports æœ€é€‚åˆçš„ç±»å‹ [String: String]ã€‚

### è®¿é—®å’Œä¿®æ”¹å­—å…¸

æˆ‘ä»¬å¯ä»¥é€šè¿‡å­—å…¸çš„æ–¹æ³•å’Œå±æ€§ï¼Œæˆ–è€…æ˜¯ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥å¯¹å­—å…¸è¿›è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹ã€‚

å’Œæ•°ç»„ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åªè¯»çš„ count å±æ€§æ¥æ‰¾å‡º Dictionary ä¸­æ‹¥æœ‰å¤šå°‘å…ƒç´ :

```swift
print("The airports dictionary contains \(airports.count) items.")
// Prints "The airports dictionary contains 2 items."
```

ä½¿ç”¨å¸ƒå°”å±æ€§ isEmpty æ¥ä½œä¸ºæ£€æŸ¥ count å±æ€§æ˜¯å¦ä¸º 0 çš„å¿«æ·æ–¹å¼:

```swift
if airports.isEmpty {
    print("The airports dictionary is empty.")
} else {
    print("The airports dictionary is not empty.")
}
// Prints "The airports dictionary is not empty."
```

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥ä¸ºå­—å…¸æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚ä½¿ç”¨æ­£ç¡®ç±»å‹çš„æ–°é”®æ¥ä½œä¸ºä¸‹æ ‡è„šæœ¬çš„ç´¢å¼•ï¼Œç„¶åèµ‹ä¸€ä¸ªæ­£ç¡®ç±»å‹çš„æ–°å€¼å³å¯:

```swift
airports["LHR"] = "London"
// the airports dictionary now contains 3 items
```

æˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥æ”¹å˜ä¸€ä¸ªç‰¹å®šé”®æ‰€å…³è”çš„å€¼:

```swift
airports["LHR"] = "London Heathrow"
// the value for "LHR" has been changed to "London Heathrow"
```

ä½œä¸ºä¸‹æ ‡è„šæœ¬çš„æ›¿ä»£å“ï¼Œå¯ä»¥ä½¿ç”¨å­—å…¸çš„ `updateValue(_:forKey:)` æ–¹æ³•æ¥è®¾ç½®æˆ–è€…æ›´æ–°ç‰¹å®šé”®çš„å€¼ã€‚å°±åƒä¸Šé¢ä¸‹æ ‡è„šæœ¬çš„ä¾‹å­ï¼Œå¦‚æœé”®å¯¹åº”çš„å€¼ä¸å­˜åœ¨ï¼Œ `updateValue(_:forKey:)`  ä¼šä¸ºè¯¥é”®è®¾ç½®ä¸€ä¸ªå€¼ï¼Œå¦‚æœé”®å¯¹åº”çš„å€¼å·²ç»å­˜åœ¨äº†ï¼Œä½¿ç”¨è¯¥æ–¹æ³•ä¼šæ›´æ–°è¿™ä¸ªé”®çš„å€¼ã€‚ä¸åŒäºä¸‹æ ‡è„šæœ¬è¯­æ³•çš„æ˜¯ï¼Œ`updateValue(_:forKey:)` åœ¨æ‰§è¡Œæ›´æ–°ä¹‹åä¼šè¿”å›æ—§çš„å€¼ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥ç”¨æ¥æ£€æŸ¥è¿™æ¬¡æ˜¯å¦æ˜¯æ›´æ–°æ“ä½œã€‚

`updateValue(_:forKey:)` ä¼šè¿”å›ä¸€ä¸ªç¬¦åˆå­—å…¸å€¼ç±»å‹çš„å¯é€‰å€¼ã€‚æ¯”å¦‚ï¼Œå¦‚æœå­—å…¸ä¸­çš„å€¼ç±»å‹æ˜¯ Stringï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ä¸€ä¸ª String? ç±»å‹ï¼Œåˆæˆ–è€…è¯´æ˜¯ â€œä¸€ä¸ªå¯é€‰çš„ Stringâ€ã€‚å¦‚æœæ›´æ–°ä¹‹å‰ï¼Œå·²ç»å­˜åœ¨é”®æ‰€å¯¹åº”çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯é€‰å€¼ä¼šå°†æ—§å€¼åŒ…å«åœ¨å†…ï¼Œå¦‚æœä¸å­˜åœ¨é”®å¯¹åº”çš„å€¼ï¼Œå°±ä¼šè¿”å› nil:

```swift
if let oldValue = airports.updateValue("Dublin Airport", forKey: "DUB") {
    print("The old value for DUB was \(oldValue).")
}
// Prints "The old value for DUB was Dublin."
```

æˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•æ¥è®¿é—®å­—å…¸ä¸­ç‰¹å®šé”®çš„å€¼ã€‚å› ä¸ºæˆ‘ä»¬è¦è¯·æ±‚çš„é”®å¾ˆå¯èƒ½æ²¡æœ‰æ‰€å¯¹åº”çš„å€¼ï¼Œæ‰€ä»¥å­—å…¸çš„ä¸‹æ ‡è„šæœ¬è¯­æ³•ä¼šè¿”å›ä¸€ä¸ªå­—å…¸å€¼ç±»å‹çš„å¯é€‰å€¼ã€‚å¦‚æœå­—å…¸ä¸­å·²ç»å­˜åœ¨è¯·æ±‚çš„é”®å¯¹åº”çš„å€¼ï¼Œä¸‹æ ‡è„šæœ¬ä¼šç›´æ¥è¿”å›ä¸€ä¸ªåŒ…å«å·²ç»å­˜åœ¨çš„å€¼çš„å¯é€‰å€¼ã€‚å¦åˆ™ï¼Œè¿”å› nil:

```swift
if let airportName = airports["DUB"] {
    print("The name of the airport is \(airportName).")
} else {
    print("That airport is not in the airports dictionary.")
}
// Prints "The name of the airport is Dublin Airport."
```

é€šè¿‡ä½¿ç”¨ä¸‹æ ‡è„šæœ¬è¯­æ³•ç»™é”®èµ‹ä¸€ä¸ª nil å€¼ï¼Œå¯ä»¥è¾¾åˆ°ä»å­—å…¸ä¸­åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹çš„ç›®çš„:

```sw
airports["APL"] = "Apple International"
// "Apple International" is not the real airport for APL, so delete it
airports["APL"] = nil
// APL has now been removed from the dictionary
```

æˆ–è€…ï¼Œä½¿ç”¨ `removeValue(forKey:)` æ–¹æ³•æ¥ä»å­—å…¸ä¸­åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹ã€‚å¦‚æœå­—å…¸ä¸­å·²ç»å­˜åœ¨é”®å¯¹åº”çš„å€¼ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šå…ˆåˆ æ‰è¯¥é”®å€¼å¯¹ï¼Œç„¶åè¿”å›è¦ç§»é™¤çš„å€¼ï¼Œå¦‚æœé”®å¯¹åº”çš„å€¼ä¸å­˜åœ¨ï¼Œä¼šç›´æ¥è¿”å› nil:

```swift
if let removedValue = airports.removeValue(forKey: "DUB") {
    print("The removed airport's name is \(removedValue).")
} else {
    print("The airports dictionary does not contain a value for DUB.")
}
// Prints "The removed airport's name is Dublin Airport."
```

### éå†å­—å…¸

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ for-in å¾ªç¯æ¥éå†ä¸€ä¸ªå­—å…¸ä¸­çš„é”®å€¼å¯¹ã€‚å¾ªç¯ä¸­ï¼Œå­—å…¸ä¸­çš„æ¯ä¸ªé¡¹éƒ½ä¼šä½œä¸º ï¼ˆkeyï¼Œvalueï¼‰ç±»å‹çš„å…ƒç»„æ¥è¿”å›ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…ƒç»„çš„æˆå‘˜åˆ†è§£ä¸ºä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡æ¥ä½œä¸ºè¿­ä»£çš„ä¸€éƒ¨åˆ†:

```swift
for (airportCode, airportName) in airports {
    print("\(airportCode): \(airportName)")
}
// YYZ: Toronto Pearson
// LHR: London Heathrow
```

æœ‰å…³æ›´å¤š for-in å¾ªç¯çš„ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹ [For-In Loops](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID121)ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®å­—å…¸çš„ keys å’Œ values å±æ€§æ¥è·å–å­—å…¸çš„é”®å’Œå€¼çš„å¯è¿­ä»£é›†åˆ:

```swift
for airportCode in airports.keys {
    print("Airport code: \(airportCode)")
}
// Airport code: YYZ
// Airport code: LHR

for airportName in airports.values {
    print("Airport name: \(airportName)")
}
// Airport name: Toronto Pearson
// Airport name: London Heathrow
```

å¦‚æœæœ‰éœ€è¦å°†å­—å…¸çš„ keys æˆ– values å±æ€§ä¸æ¥æ”¶ Array å®ä¾‹çš„ API ä¸€èµ·ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ keys æˆ– values æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„:

```swift
let airportCodes = [String](airports.keys)
// airportCodes is ["YYZ", "LHR"]

let airportNames = [String](airports.values)
// airportNames is ["Toronto Pearson", "London Heathrow"]
```

Swift ä¸­çš„ Dictionary ç±»å‹æ˜¯æ— åºçš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³ä»¥ç‰¹å®šçš„é¡ºåºæ¥éå†å­—å…¸çš„ keys æˆ–è€… valuesï¼Œéœ€è¦å¯¹å­—å…¸çš„ keys æˆ–è€… values å±æ€§ä½¿ç”¨ `sorted` æ–¹æ³•ã€‚